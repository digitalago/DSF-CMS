/* 10-drupal/search/custom/collection-search */

.path-collection {
  .block-facet--checkbox {
    position: relative;

    h3 {
      font-weight: $normal;
      letter-spacing: 2px;
      font-size: ms();
      text-transform: uppercase;
      line-height: ms();
      transition: color .2s ease-in;
      width: 100%;
      display: inline-block;
      position: relative;
      margin-bottom: 0;
      font-family: $font-set-2;

      &:hover {
        cursor: pointer;
        color: $red;
      }
    }

    // .facets-soft-limit-link {
    //  visibility: hidden;
    //   &::after {
    //     content: '+';
    //     font-size: 25px;
    //     font-weight: $ultra-bold;
    //     float: right;
    //     display: inline-block;
    //     position: absolute;
    //     right: 0;
    //     top: -3px;
    //     visibility: visible;
    //   }
    // }

    .item-list__checkbox {
      padding-left: 0;

      .facet-item {
        list-style: none;
        margin-bottom: 0;

        label {
          font-size: ms();
          font-family: $font-set-2;
          transition: color .2s ease-in;
          float: left;
          clear: both;
          line-height: ms(1);
          font-weight: 300;
          text-transform: none;
          margin-bottom: 0.79012em !important;

          &:hover,
          &:focus {
            color: $red;
          }
        }
      }
    }
    &.block-facet-blockcollection {
      .facet-item {
        height: 1em;
        clear: both;
      }
    }
  }

  .block-facets {
    .item-list__checkbox {
      display: flex;
      flex-direction: column;
      margin-bottom: 0;
      padding-top: 5px;

      label {
        margin-bottom: 0 !important;
      }
    }

    .facets-widget-checkbox.active {
      .facets-soft-limit-link {
        display: block;
        clear: both;
      }
    }

    .facets-widget-checkbox {
      margin-bottom: 1.125em;

      .facets-soft-limit-link {
        display: none;
      }
    }

    h3.accordion-closed {
      &:after {
         content: '\e145';
        font-family: 'Material Icons';
        font-size: 24px;
        font-weight: normal;
        float: right;
        display: inline-block;
        position: absolute;
        right: 0;
        top: 0;
        bottom: 0;
      }
    }

    h3.accordion-open {
      color: $red;
      &:after {
        right: 0;
        content: '\e15b' !important;
        font-weight: normal;
        font-family: 'Material Icons';
        font-size: 24px;
        float: right;
        display: inline-block;
        position: absolute;
      }
    }
  }

  .facets-soft-limit-link {
    padding-bottom: 10px;
    font-family: $font-set-2;
    font-size: ms(-1);
  }

  .region--sidebar-first {
    .facets-widget-checkbox {
      ul.facet-inactive {
        display: none;
      }
    }

    .facets-widget-checkbox.active {
      ul {
        display: block;
      }
    }
  }
}

.region--sidebar-first {
  > .block-views-exposed-filter-blockcollection-search-collection-browse-page {
    margin-bottom: 0;

    .filters-heading {
      text-transform: uppercase;
      margin-bottom: 0.70233em;
    }
  }
}

.block-views-exposed-filter-blockcollection-search-collection-browse-page {
  margin-bottom: 1em;

  .form--inline {
    display: flex;
    flex-wrap: wrap;

    .form-type-textfield  {
      width: 100%;
    }

    .form-actions {
      order: 1;
      margin-right: ms(-2);
    }

    .form-submit {
      order: 2;
      margin-left: 0;
      margin-right: 0;
      font-family: $font-set-2;
      text-transform: none !important;
      font-size: 0.88889em;
      padding: 0.79012em 1em;
      border: 1px solid $almostblack;
      background-color: $white;
      color: $almostblack;
      letter-spacing: 1px;
      display: inline-block;
      -webkit-border-radius: 0;
      -webkit-font-smoothing: antialiased;
        border-radius: 0;
      &:hover,&:focus{
        background-color: $almostblack;
        border: 1px solid $almostblack;
        color: $white;
      }
    }
  }

  input.form-text {
    width: 100%;
    -webkit-border-radius:0;
    border-radius: 0;
    display: inline-block;
    position: relative;
    background-image: url(../../img/file_icons/search-black.png);
    background-repeat: no-repeat;
    background-size: 18px;
    background-position: 15px 50%;
    font-family: $font-set-2;
    font-size: ms();
    padding: ms(-1) ms() ms(-2) ms(7);
    @include breakpoint ($medium-screen) {
      background-size: 20px;
      background-position: 15px 50%;
    }
  }
}

.block-views-exposed-filter-blockobjects-page-1,
.block-views-exposed-filter-blockobjects-my-collections {
  display: block;
  position: relative;
  min-height: 200px;
}

.block-views-exposed-filter-blockobjects-page-1,
.block-views-exposed-filter-blockobjects-my-collections,
.block-facet-blockobject-name {
  label, .filters-heading, .compare-heading {
    @include filter-label;
  }
  .form-item-keys {
    width: 100%;
  }
  input.form-text {
    width: 100%;
    -webkit-border-radius:0;
    border-radius: 0;
    display: inline-block;
    position: relative;
    background-image: url(../../img/file_icons/search-black.png);
    background-repeat: no-repeat;
    background-size: 18px;
    background-position: 15px 50%;
    font-family: $font-set-2;
    font-size: ms();
    padding: ms(-1) ms() ms(-2) ms(7);
    @include breakpoint ($medium-screen) {
      background-size: 20px;
      background-position: 15px 50%;
    }
  }
  input#edit-submit-objects {
    margin-right: ms(-2);
  }

  input#edit-submit-objects, #edit-reset {
   // @include btn-flat;
   // -webkit-border-radius:0;
   // border-radius: 0;
   // float: left;
    margin-left: 0;
   // text-transform: capitalize;
   // font-family: $font-set-2;
  }

  fieldset.form-wrapper {
    width: 100%;
    font-family: $font-set-2;
    margin-bottom: ms(1);
    legend {
      width: 100%;
      line-height: 1;
      span {
        font-weight: $normal;
        letter-spacing: 2px;
        font-size: ms();
        text-transform: uppercase;
        line-height: ms();
        transition: color .2s ease-in;
        width: 100%;
        display: inline-block;
        position: relative;
        &:hover {
          cursor: pointer;
          color: $red;
        }
      }
      // .fieldset-legend {
      //   // display: none;
      //   &:after {
      //     content: '+';
      //     font-size: 25px;
      //     font-weight: $ultra-bold;
      //     float: right;
      //     display: inline-block;
      //     position: absolute;
      //     right: 0;
      //     // top: -3px;
      //   }
      // }
    }
    .fieldset-legend {
      // display: none;
      &:after {
         content: '\e145';
        font-family: 'Material Icons';
        font-size: 24px;
        font-weight: normal;
        float: right;
        display: inline-block;
        position: absolute;
        right: 0;
        top: 0;
        bottom: 0;
      }
    }
    .fieldset-wrapper,
    .facet-item {
      display: none;
      padding-top: 5px;

      label.option,
      .facet-item__value {
        font-size: ms();
        font-family: $font-set-2;
        //text-transform: capitalize;
        transition: color .2s ease-in;
        float: left;
        clear: both;
        line-height: ms(1);
        &:hover, &:focus {
          color: $red;
        }
      }
    }
  }
}

// .expend {
//   &:after {
//     content: '+';
//     font-size: 25px;
//     font-weight: $ultra-bold;
//     float: right;
//     display: inline-block;
//     position: absolute;
//     right: 0;
//     // top: -3px;
//   }
// }

.indeterminate {
  color: $red;

  &:after {
    right: 0;
    content: '\e15b' !important;
    font-weight: normal;
    font-family: 'Material Icons';
    font-size: 24px;
    float: right;
    display: inline-block;
    position: absolute;
  }
}

.more-options {
  display: block;
  clear: both;
  text-decoration: underline;
  padding-bottom: 10px;
  cursor: pointer;
  font-size: ms(-1);

  &:hover {
    text-decoration: underline;
    color: $red;
  }
}

// General rule to avoid colorbox wrapper to jump from one width to another.
#cboxWrapper {
  width: 80% !important;
}

#colorbox.active {
  display: flex !important;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  width: 100% !important;
  height: 100% !important;
  bottom: 0 !important;
  left: 0 !important;
  top: 0 !important;
  background-color: rgba(0, 0, 0, 0.3);
  z-index: 1;
  position: fixed !important;
  opacity: 1 !important;

  #cboxLoadedContent {
    width: 100% !important;
    overflow: scroll !important;
    height: calc(600px - 2em) !important;
    ul.item-list__checkbox {
      display: flex !important;
    }
  }

  #cboxContent {
    position: relative;
    width: 100% !important;
  }

  #cboxWrapper {
    background-color: $white;
    padding: 30px;
    min-width: 80% !important;
    height: 600px !important;

    ul {
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
      padding: 0;
    }

    li {
      list-style: none;
      flex: 0 1 100%;
      max-width: 100%;

      @include breakpoint($weird-screen) {
        flex: 0 1 50%;
        max-width: 50%;
        padding-right: 1em;
      }

      @include breakpoint($wide-screen) {
        flex: 0 1 33.3333%;
        max-width: 33.3333%;
      }

      @include breakpoint($wxga-screen) {
        flex: 0 1 25%;
        max-width: 25%;
      }

      .facet-item__value {
        font-family: $font-set-2;
        font-weight: $normal;
      }
    }
  }

  #cboxClose {
    top: -84px;
  }

  .collection-modal-filterset-title {
    border-bottom: 1px solid $contrastgrey;
    z-index: 999999;
    width: 80%;
    background: #fff;
    display: block;

    h2 {
      margin-bottom: 0;
      padding: 15px 0px 10px 30px;
    }
  }
}

